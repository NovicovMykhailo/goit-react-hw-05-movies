{"version":3,"file":"static/js/268.a9a60ebf.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/CardItem/CardItem.module.css?133d","components/CardItem/CardItem.jsx","components/Error/Error.jsx","webpack://goit-react-hw-05-movies/./src/components/Gallery/Gallery.module.css?dbe6","components/Gallery/Gallery.jsx","webpack://goit-react-hw-05-movies/./src/components/SearchBar/SearchBar.module.css?35a0","components/Tost/Tost.jsx","components/SearchBar/SearchBar.jsx","services/themoviedb_API.js","services/utils.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"card\":\"CardItem_card__9jGsV\",\"image\":\"CardItem_image__MzQ3z\",\"description\":\"CardItem_description__kNNhM\",\"stats\":\"CardItem_stats__+50T2\",\"overview\":\"CardItem_overview__Y7o1B\"};","import { Link } from 'react-router-dom';\nimport css from './CardItem.module.css';\nimport placeholder from '../../images/200x300placeholder.jpg'\n\nimport { DateFormat, numToFix } from '../../services/utils';\n\nconst CardItem = ({ data, state }) => {\n  const { id, poster_path, title, overview, release_date, popularity } = data;\n  if (poster_path) {\n    return (\n      <li title={title} className={css.card}>\n        <Link to={`/movies/${id}`} state={state}>\n          <div className={css.description}>\n            <ul className={css.stats}>\n              {popularity && <li>Views: {numToFix(popularity)}</li>}\n              {release_date && <li>{DateFormat(release_date)}</li>}\n            </ul>\n          </div>\n          <img\n            className={css.image}\n            src={poster_path ? `https://image.tmdb.org/t/p/w500/${poster_path}` : placeholder}\n            alt=\"{title}\"\n            loading=\"lazy\"\n          />\n\n          <p className={css.overview}>{overview}</p>\n        </Link>\n      </li>\n    );\n  \n}\n  \n};\n\nexport default CardItem;\n","const Error = ({message}) => {\n  return (\n    <div\n      style={{\n        height: '100vh',\n        width: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'flex-start',\n        flexDirection: 'column',\n        gap: '20px',\n      }}\n    >\n      <h1>Oops somethin went wrong...</h1>\n      {message && <p>••• {message}•••</p>}\n    </div>\n  );\n};\nexport default Error;\n","// extracted by mini-css-extract-plugin\nexport default {\"galleryList\":\"Gallery_galleryList__28pGC\"};","import css from './Gallery.module.css';\n\nconst Gallery = ({ children }) => {\n  return <ul className={css.galleryList}>{children}</ul>;\n};\n\nexport default Gallery;\n","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"SearchBar_Searchbar__qe5Sc\",\"SearchForm\":\"SearchBar_SearchForm__J+i1a\",\"SearchFormButton\":\"SearchBar_SearchFormButton__J-w2N\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__iHW4N\",\"SearchFormInput\":\"SearchBar_SearchFormInput__4T9IM\"};","import styled from 'styled-components';\n\nconst Box = styled.div`\n  position: absolute;\n  width: 300px;\n  top: 160px;\n  left: 50%;\n  height: 150px;\n  background-color: #fff;\n  border-radius: 10px;\n  text-align: center;\n  transform: translateX(-50%);\n  overflow: hidden;\n  z-index: 9999;\n`;\nconst Title = styled.h3`\n  display: block;\n  padding: 10px 0;\n  background-color: teal;\n  color: white;\n  margin-bottom: 30px;\n`;\nconst Text = styled.p`\n  text-transform: capitalize;\n  width: 80%;\n  margin: 0 auto;\n  line-height: 1.6rem;\n`;\nconst Tost = ({ message }) => {\n  return (\n    <Box>\n      <Title>Info</Title>\n      <Text>{message}</Text>\n    </Box>\n  );\n};\n\nexport default Tost;\n","import { useSearchParams, useLocation } from 'react-router-dom';\nimport css from './SearchBar.module.css';\nimport { Suspense, useEffect, useState } from 'react';\nimport Loader from 'components/Loader/Loader';\nimport Error from 'components/Error/Error';\nimport * as API from '../../services/themoviedb_API';\n\nimport Gallery from 'components/Gallery/Gallery';\nimport CardItem from 'components/CardItem/CardItem';\nimport Tost from 'components/Tost/Tost';\n\nconst SearchBar = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const value = searchParams.get('query') ?? '';\n\n  const [foundMovies, setFoundMovies] = useState([]);\n  const [input, setInput] = useState('');\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState(null);\n  const [showTost, setShowTost] = useState(false);\n  const location = useLocation();\n\n  useEffect(() => {\n    if (value === '') {\n      return;\n    }\n    if (value !== '') {\n      (async () => {\n        setStatus('pending');\n        try {\n          await API.searchMovies(value).then(movies => {\n            setFoundMovies(movies);\n            setStatus('resolved');\n          });\n        } catch (error) {\n          setError(error);\n          setStatus('rejected');\n        }\n      })();\n    }\n  }, [value]);\n\n  function onSubmit(e) {\n    e.preventDefault();\n    if (input === '') {\n      setTimeout(() => {\n        setShowTost(true);\n      }, 300);\n\n      setTimeout(() => {\n        setShowTost(false);\n      }, 2000);\n      setFoundMovies([]);\n      setSearchParams({});\n\n      return;\n    } else {\n      const nextEl = input !== '' ? { query: input } : {};\n      setSearchParams(nextEl);\n    }\n  }\n\n  return (\n    <>\n      <form className={css.SearchForm} onSubmit={onSubmit}>\n        <button type=\"submit\" className={css.SearchFormButton}>\n          <span className={css.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          onChange={e => setInput(e.target.value)}\n          className={css.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movie\"\n          value={input}\n        />\n      </form>\n      {showTost && <Tost message={'Please enter a title to search for the film'} />}\n      {status === 'pending' && <Loader />}\n      {status === 'rejected' && <Error message={error} />}\n      {status === 'resolved' && (\n        <Gallery>\n          <Suspense>\n            {foundMovies.map(movie => (\n              <CardItem data={movie} key={movie.id} state={{ from: location }} />\n            ))}\n          </Suspense>\n        </Gallery>\n      )}\n    </>\n  );\n};\nexport default SearchBar;\n","import axios from 'axios';\n\n//hedders\nconst API = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  headers: {\n    accept: 'application/json',\n    'Accept-Language': 'en-US,en;',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkZDcxODI0YzJjM2ZmM2FlZjExOGZjZjJhMWY4NmEwYyIsInN1YiI6IjY0NmM4MTEyMmJjZjY3MDBmZTYyMTZhOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.7t2sbFYyvcaDAtE0fXnZqWJkrF8c6YiesSuOdcaSKsk',\n  },\n});\n\n// фильмы в тренде сегодня\nexport async function getTrendingMovies() {\n  try {\n    const response = await API.get(`/trending/movie/day`);\n    // console.log(response.data.results);\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n}\n//коллекция одноименных фильмов\nexport async function searchMovies(keyword, page = 1) {\n  try {\n    const response = await API.get(\n      `/search/movie?query=${keyword\n        .toLowerCase()\n        .trim()}&include_adult=true&page=${page}`\n    );\n    // console.log(response.data.results);\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n}\n// детали фильма по айди\nexport async function getDetails(ID) {\n  try {\n    const response = await API.get(`/movie/${ID}`);\n    // console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n//Актерский состав фильма по айди\nexport async function getMovieActors(ID) {\n  try {\n    const response = await API.get(`/movie/${ID}/credits`);\n      // response.data.cast.map(actor => console.log(actor))\n    return response.data.cast.map(actor =>{return actor});\n  } catch (error) {\n    console.log(error);\n  }\n}\n// обзоры фильма по айди\nexport async function getReviews(ID, page = 1) {\n  try {\n    const response = await API.get(`/movie/${ID}/reviews?page=${page}`);\n    // console.log(response.data.results);\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n}\n//информация про актера\nexport async function getActorsInfo(ID) {\n  try {\n    const response = await API.get(`/person/${ID}`);\n    // console.log(response.data);\n    return response.data\n  } catch (error) {\n    console.log(error);\n  }\n}\n//информация про его фильмы актера\nexport async function getMoviesCredits(ID) {\n  try {\n    const response = await API.get(`/person/${ID}/movie_credits`);\n    // console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}","import { format } from 'date-fns';\nimport placeholder from '../images/placeholder_sq.png';\n\nexport const DateFormat = date => {\n  return format(new Date(date), ' dd MMM yyyy');\n};\n\nexport const year = date => {\n  return format(new Date(date), 'yyyy');\n};\n\nexport const ToStringConverter = obj => {\n  const result = String(obj.map(name => name.name))\n    .split(',')\n    .join(', ');\n  return result;\n};\n\nexport const numToFix = number => {\n  return Number.parseInt(number);\n};\n\nexport const formatUrl = url => {\n  let arr = Array.from(url);\n  if (arr[0] === '/') {\n    arr.shift();\n  }\n\n  return arr.join('');\n};\n\nexport const ratingConvert = rating => {\n  let I = '';\n  for (let i = 0; i < rating; i += 1) {\n    I += '✯';\n  }\n\n  return I;\n  //  return ` ${rating} ` + I;\n};\n\nexport const formatAvatar = avatar => {\n  if (avatar === null) {\n    return placeholder;\n  }\n\n  if (avatar !== null) {\n    let arr = Array.from(avatar);\n    arr.shift();\n    if (arr.length <= 31) {\n      return `https://image.tmdb.org/t/p/w500/${arr.join('')}`;\n    } else {\n      return arr.join('');\n    }\n  }\n};\n\nexport const formatImage = avatar => {\n  if (avatar === null) {\n    return placeholder;\n  }\n\n  if (avatar !== null) {\n    return `https://image.tmdb.org/t/p/w500/${avatar}`;\n  }\n};\n\nexport const filteredAray = (array) => {\n  let reg = /[^a-zA-Z\\s]+/;\n\n  const filtered = array.filter(i => !i.match(reg));\n  const object = { ...filtered };\n\n  return String(Object.values(object)).split(',').join(', ');\n};\n"],"names":["data","state","id","poster_path","title","overview","release_date","popularity","className","css","to","numToFix","DateFormat","src","alt","loading","message","style","height","width","display","justifyContent","alignItems","flexDirection","gap","children","Box","styled","Title","Text","useSearchParams","searchParams","setSearchParams","value","get","useState","foundMovies","setFoundMovies","input","setInput","status","setStatus","error","setError","showTost","setShowTost","location","useLocation","useEffect","API","then","movies","onSubmit","e","preventDefault","setTimeout","query","type","onChange","target","autoComplete","autoFocus","placeholder","Loader","Error","Gallery","Suspense","map","movie","CardItem","from","axios","baseURL","headers","accept","Authorization","getTrendingMovies","response","results","console","log","searchMovies","keyword","page","toLowerCase","trim","getDetails","ID","getMovieActors","cast","actor","getReviews","getActorsInfo","getMoviesCredits","date","format","Date","year","ToStringConverter","obj","String","name","split","join","number","Number","parseInt","formatUrl","url","arr","Array","shift","ratingConvert","rating","I","i","formatAvatar","avatar","length","formatImage","filteredAray","array","reg","filtered","filter","match","object","Object","values"],"sourceRoot":""}