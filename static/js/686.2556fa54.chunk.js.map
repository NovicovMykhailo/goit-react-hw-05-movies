{"version":3,"file":"static/js/686.2556fa54.chunk.js","mappings":"oJAkBA,IAlBc,SAAC,GAAe,IAAdA,EAAa,EAAbA,QACd,OACE,iBACEC,MAAO,CACLC,OAAQ,QACRC,MAAO,OACPC,QAAS,OACTC,eAAgB,SAChBC,WAAY,aACZC,cAAe,SACfC,IAAK,QART,WAWE,wBAAI,gCACHR,IAAW,yBAAG,sBAAKA,EAAQ,0BAGjC,C,uDChBD,MAA8B,6B,SCK9B,EAJgB,SAAC,GAAkB,IAAhBS,EAAe,EAAfA,SACjB,OAAO,eAAIC,UAAWC,EAAf,SAAiCF,GACzC,C,mJCHD,EAAsE,8BAAtE,EAAuH,oCAAvH,EAAmL,yCAAnL,EAA8O,mC,uFCCxOG,EAAMC,EAAAA,GAAAA,IAAH,gQAaHC,EAAQD,EAAAA,GAAAA,GAAH,mIAOLE,EAAOF,EAAAA,GAAAA,EAAH,iHAeV,EATa,SAAC,GAAiB,IAAfb,EAAc,EAAdA,QACd,OACE,UAACY,EAAD,YACE,SAACE,EAAD,UAAO,UACP,SAACC,EAAD,UAAOf,MAGZ,ECZD,EAvBgB,SAAC,GAAe,IAAdgB,EAAa,EAAbA,QACd,OACE,gBAAKf,MAAO,CAAEG,QAAS,OAAQC,eAAgB,SAAUC,WAAY,SAAUW,UAAW,IAA1F,UACE,mBACEhB,MAAO,CACLiB,QAAS,YACTC,gBAAiB,oBACjBC,MAAO,QACPC,YAAa,QACbC,aAAc,EACdC,YAAa,EACbC,SAAU,GACVC,QAAS,OACTC,OAAQ,WAEVV,QAASA,EAZX,SAaC,eAKR,E,UCqGD,EA7GkB,WAAO,IAAD,EACtB,GAAwCW,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAE3C,GAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,QAArC,eAAOK,EAAP,KAAeC,EAAf,KACA,GAA0BN,EAAAA,EAAAA,UAAS,MAAnC,eAAOO,EAAP,KAAcC,EAAd,KACA,GAAgCR,EAAAA,EAAAA,WAAS,GAAzC,eAAOS,EAAP,KAAiBC,EAAjB,KACA,GAAwBV,EAAAA,EAAAA,UAAS,GAAjC,eAAOW,EAAP,KAAaC,EAAb,KACMC,GAAWC,EAAAA,EAAAA,MAXK,wCA4DtB,8EACEF,GAAQ,SAAAG,GAAI,OAAKA,EAAQ,CAAb,IAEZ,IACEC,EAAAA,GAAiBlB,EAAOa,GAAMM,MAAK,SAAAC,GACjChB,GAAe,SAAAa,GAAI,wBAAQA,IAAR,OAAiBG,GAAjB,GACpB,GACW,CAAZ,MAAOC,GAAK,CAPhB,4CA5DsB,sBAuEtB,OA1DAC,EAAAA,EAAAA,YAAU,WACM,KAAVtB,GAGU,KAAVA,IACF,iBAAC,qFACCQ,EAAU,WADX,kBAGSU,EAAAA,GAAiBlB,GAAOmB,MAAK,SAAAC,GACjChB,EAAegB,GACO,IAAlBA,EAAOG,SACTX,GAAY,GAEZY,YAAW,WACTZ,GAAY,EACb,GAAE,MAELJ,EAAU,WACX,IAbJ,uDAeGE,EAAS,EAAD,IACRF,EAAU,YAhBb,wDAAD,EAoBH,GAAE,CAACR,KAkCF,iCACE,kBAAMpB,UAAWC,EAAgB4C,SA/BrC,SAAkBJ,GAEhB,GADAA,EAAEK,iBACY,KAAVrB,EAUF,OATAD,EAAe,IACfL,EAAgB,CAAC,GACjBS,EAAU,OACVI,GAAY,QAEZY,YAAW,WACTZ,GAAY,EACb,GAAE,KAKHb,EADyB,KAAVM,EAAe,CAAEsB,MAAOtB,GAAU,CAAC,EAGrD,EAcG,WACE,mBAAQuB,KAAK,SAAShD,UAAWC,EAAjC,UACE,iBAAMD,UAAWC,EAAjB,SAA4C,cAG9C,kBACEgD,SAAU,SAAAR,GAAC,OAAIf,EAASe,EAAES,OAAO9B,MAAtB,EACXpB,UAAWC,EACX+C,KAAK,OACLG,aAAa,MACbC,WAAS,EACTC,YAAY,eACZjC,MAAOK,OAGVM,IAAY,SAAC,EAAD,CAAMzC,QAAS,gDAChB,YAAXqC,IAAwB,SAAC2B,EAAA,EAAD,IACb,aAAX3B,IAAyB,SAAC4B,EAAA,EAAD,CAAOjE,QAASuC,IAC9B,aAAXF,GAAyBJ,EAAYoB,OAAS,IAC7C,iCACE,SAACa,EAAA,EAAD,WACE,SAAC,EAAAC,SAAD,WACGC,EAAAA,EAAAA,IAAanC,EAAYoC,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEE,WAAaD,EAAEC,UAA3B,KAAwCC,KAAI,SAAAC,GAAK,OAC9E,SAACC,EAAA,EAAD,CAAUC,KAAMF,EAAsBG,MAAO,CAAEC,KAAMjC,IAAzB6B,EAAMK,GAD4C,QAK5D,IAAvB9C,EAAYoB,QAAgBpB,EAAYoB,OAAS,KAAM,SAAC,EAAD,CAAQrC,QApGlD,gDAuGN,aAAXqB,GAAgD,IAAvBJ,EAAYoB,QAAgBZ,IACpD,SAAC,EAAD,CAAMzC,QAAS,6BAItB,C","sources":["components/Error/Error.jsx","webpack://goit-react-hw-05-movies/./src/components/Gallery/Gallery.module.css?dbe6","components/Gallery/Gallery.jsx","webpack://goit-react-hw-05-movies/./src/components/SearchBar/SearchBar.module.css?35a0","components/Tost/Tost.jsx","components/Button/Button.jsx","components/SearchBar/SearchBar.jsx"],"sourcesContent":["const Error = ({message}) => {\n  return (\n    <div\n      style={{\n        height: '100vh',\n        width: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'flex-start',\n        flexDirection: 'column',\n        gap: '20px',\n      }}\n    >\n      <h1>Oops somethin went wrong...</h1>\n      {message && <p>••• {message}•••</p>}\n    </div>\n  );\n};\nexport default Error;\n","// extracted by mini-css-extract-plugin\nexport default {\"galleryList\":\"Gallery_galleryList__28pGC\"};","import css from './Gallery.module.css';\n\nconst Gallery = ({ children }) => {\n  return <ul className={css.galleryList}>{children}</ul>;\n};\n\nexport default Gallery;\n","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"SearchBar_Searchbar__qe5Sc\",\"SearchForm\":\"SearchBar_SearchForm__J+i1a\",\"SearchFormButton\":\"SearchBar_SearchFormButton__J-w2N\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__iHW4N\",\"SearchFormInput\":\"SearchBar_SearchFormInput__4T9IM\"};","import styled from 'styled-components';\n\nconst Box = styled.div`\n  position: absolute;\n  width: 300px;\n  top: 160px;\n  left: 50%;\n  height: 150px;\n  background-color: #fff;\n  border-radius: 10px;\n  text-align: center;\n  transform: translateX(-50%);\n  overflow: hidden;\n  z-index: 9999;\n`;\nconst Title = styled.h3`\n  display: block;\n  padding: 10px 0;\n  background-color: teal;\n  color: white;\n  margin-bottom: 30px;\n`;\nconst Text = styled.p`\n  text-transform: capitalize;\n  width: 80%;\n  margin: 0 auto;\n  line-height: 1.6rem;\n`;\nconst Tost = ({ message }) => {\n  return (\n    <Box>\n      <Title>Info</Title>\n      <Text>{message}</Text>\n    </Box>\n  );\n};\n\nexport default Tost;\n"," const Button = ({onClick}) => {\n    return (\n      <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', marginTop: 25 }}>\n        <button\n          style={{\n            padding: '10px 25px',\n            backgroundColor: 'rgb(52, 152, 219)',\n            color: 'white',\n            borderColor: 'white',\n            borderRadius: 8,\n            borderWidth: 1,\n            fontSize: 20,\n            outline: 'none',\n            cursor: 'pointer',\n          }}\n          onClick={onClick}\n        >\n          Load More\n        </button>\n      </div>\n    );\n} \n\nexport default Button","import { useSearchParams, useLocation } from 'react-router-dom';\nimport css from './SearchBar.module.css';\nimport { Suspense, useEffect, useState } from 'react';\nimport Loader from 'components/Loader/Loader';\nimport Error from 'components/Error/Error';\nimport * as API from '../../services/themoviedb_API';\n\nimport Gallery from 'components/Gallery/Gallery';\nimport CardItem from 'components/CardItem/CardItem';\nimport Tost from 'components/Tost/Tost';\nimport Button from 'components/Button/Button';\nimport { filteredData } from '../../services/utils';\n\nconst SearchBar = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const value = searchParams.get('query') ?? '';\n\n  const [foundMovies, setFoundMovies] = useState([]);\n  const [input, setInput] = useState('');\n  const [status, setStatus] = useState('idle');\n  const [error, setError] = useState(null);\n  const [showTost, setShowTost] = useState(false);\n  const [page, setPage] = useState(2);\n  const location = useLocation();\n\n  useEffect(() => {\n    if (value === '') {\n      return;\n    }\n    if (value !== '') {\n      (async () => {\n        setStatus('pending');\n        try {\n          await API.searchMovies(value).then(movies => {\n            setFoundMovies(movies);\n            if (movies.length === 0) {\n              setShowTost(true);\n\n              setTimeout(() => {\n                setShowTost(false);\n              }, 2000);\n            }\n            setStatus('resolved');\n          });\n        } catch (error) {\n          setError(error);\n          setStatus('rejected');\n        }\n      })();\n    }\n  }, [value]);\n\n\n\n  function onSubmit(e) {\n    e.preventDefault();\n    if (input === '') {\n      setFoundMovies([]);\n      setSearchParams({});\n      setStatus('ide');\n      setShowTost(true);\n\n      setTimeout(() => {\n        setShowTost(false);\n      }, 2000);\n\n      return;\n    } else {\n      const nextEl = input !== '' ? { query: input } : {};\n      setSearchParams(nextEl);\n    }\n  }\n  async function loadMore() {\n    setPage(prev => (prev += 1));\n\n    try {\n      API.searchMovies(value, page).then(movies => {\n        setFoundMovies(prev => [...prev, ...movies]);\n      });\n    } catch (e) {}\n  }\n\n\n  return (\n    <>\n      <form className={css.SearchForm} onSubmit={onSubmit}>\n        <button type=\"submit\" className={css.SearchFormButton}>\n          <span className={css.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          onChange={e => setInput(e.target.value)}\n          className={css.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movie\"\n          value={input}\n        />\n      </form>\n      {showTost && <Tost message={'Please enter a title to search for the film'} />}\n      {status === 'pending' && <Loader />}\n      {status === 'rejected' && <Error message={error} />}\n      {status === 'resolved' && foundMovies.length > 0 && (\n        <>\n          <Gallery>\n            <Suspense>\n              {filteredData(foundMovies.sort((a, b) => a.popularity - b.popularity)).map(movie => (\n                <CardItem data={movie} key={movie.id} state={{ from: location }} />\n              ))}\n            </Suspense>\n          </Gallery>\n          {foundMovies.length !== 0 && foundMovies.length > 18 && <Button onClick={loadMore} />}\n        </>\n      )}\n      {status === 'resolved' && foundMovies.length === 0 && showTost && (\n        <Tost message={'Oops, movies not found'} />\n      )}\n    </>\n  );\n};\nexport default SearchBar;\n"],"names":["message","style","height","width","display","justifyContent","alignItems","flexDirection","gap","children","className","css","Box","styled","Title","Text","onClick","marginTop","padding","backgroundColor","color","borderColor","borderRadius","borderWidth","fontSize","outline","cursor","useSearchParams","searchParams","setSearchParams","value","get","useState","foundMovies","setFoundMovies","input","setInput","status","setStatus","error","setError","showTost","setShowTost","page","setPage","location","useLocation","prev","API","then","movies","e","useEffect","length","setTimeout","onSubmit","preventDefault","query","type","onChange","target","autoComplete","autoFocus","placeholder","Loader","Error","Gallery","Suspense","filteredData","sort","a","b","popularity","map","movie","CardItem","data","state","from","id"],"sourceRoot":""}